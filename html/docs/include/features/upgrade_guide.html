<h2>New Concepts</h2>

<p>Unlike Xdebug 2, where there was an enabling setting for each
feature, with Xdebug 3 you put Xdebug into a specific
<i>mode</i>, which can be configured with the [CFG:mode] setting.</p>

<p>This setting, in combination with [CFG:start_with_request] is the new way to
enable functionality, and to configure when Xdebug's feature activates.</p>

<p>The idea behind this is that it is important that Xdebug only has overhead
for the features that are actually wanted. For example, it makes no sense have
both [FEAT:profiler] and [FEAT:remote] active at the same time.</p>

<p>To make sure that just [FEAT:remote] is active, instead of:</p>

<pre>
xdebug.remote_enable=1
xdebug.default_enable=0
xdebug.profiler_enable=0
xdebug.auto_trace=0
xdebug.coverage_enable=0
</pre>

<p>You now only do:</p>

<pre>
xdebug.mode=debug
</pre>

<h2>Step Debugging</h2>

<h3>Activating on the Command Line</h3>
<p>Instead of setting the <code>XDEBUG_CONFIG</code> environment variable to
<code>idekey=yourname</code>, you must set <code>XDEBUG_SESSION</code> to
<code>yourname</code>:</p>

<pre>
export XDEBUG_SESSION=xdebug_is_great
</pre>

<h3>Automatically Starting the Debugger</h3>

<p>The <code>xdebug.remote_autostart</code> setting has been removed. Instead,
set [CFG:start_with_request] to <code>yes</code>.</p>

<h3>Starting the Debugger During a Request</h3>

<p>In Xdebug 3 calling [FUNC:xdebug_break] will only initiate a debugging
session when [CFG:start_with_request] is set to <code>trigger</code>.</p>

<p>It will no longer trigger a debugging session when
[CFG:start_upon_error]=<code>yes</code> (the replacement for Xdebug 2's
<code>xdebug.remote_mode=jit</code>).</p>

<p>A debug session will be initiated upon a PHP Notice or Warning, or when a
Throwable is thrown, when [CFG:start_upon_error] is set to <code>yes</code>,
regardless of what the value for [CFG:start_with_request] is.</p>

<h2>Changed Function Behaviour</h2>

<dl>
<dt><code>[FUNC:xdebug_break]</code></dt>
<dd>
<p>This function will no longer initiate a debugging session when
[CFG:start_upon_error] is set to <code>yes</code> (the replacement for Xdebug 2's
<code>xdebug.remote_mode=jit</code>).

<p>It will still initate a debugging request when [CFG:start_with_request] is
set to <code>trigger</code>.</p>
</dd>

<h2>Changed Configuration Settings</h2>

<p>Xdebug 3 has removed and changed a lot of configuration settings. This
section lists the removed settings and their replacements.</p>

<dl>
<dt><code>xdebug.auto_trace</code></dt>
<dd><p>Use [CFG:mode]<code>=trace</code> with [CFG:start_with_request]<code>=yes</code>.</p></dd>

<dt><code>xdebug.coverage_enable</code></dt>
<dd><p>Use [CFG:mode]<code>=coverage</code>.</p></dd>

<dt><code>xdebug.default_enable</code></dt>
<dd><p>Use [CFG:mode]<code>=display</code>.</p></dd>

<dt><code>xdebug.extended_info</code></dt>
<dd><p>No replacement. Xdebug turns on this PHP engine setting automatically when needed.</p></dd>

<dt><code>xdebug.gc_stats_enable</code></dt>
<dd><p>Use [CFG:mode]<code>=gcstats</code>.</p></dd>

<dt><code>xdebug.gc_stats_output_dir</code></dt>
<dd><p>Use the generic [CFG:output_dir] setting.</p></dd>

<dt><code>xdebug.profiler_enable</code></dt>
<dd><p>Use [CFG:mode]<code>=profile</code>.</p></dd>

<dt><code>xdebug.profiler_enable_trigger</code></dt>
<dd><p>Use [CFG:mode]<code>=profile</code> with [CFG:start_with_request]<code>=trigger</code>.</p></dd>

<dt><code>xdebug.profiler_enable_trigger_value</code></dt>
<dd><p>Use the generic [CFG:trigger_value] setting.</p></dd>

<dt><code>xdebug.profiler_output_dir</code></dt>
<dd><p>Use the generic [CFG:output_dir] setting.</p></dd>

<dt><code>xdebug.remote_autostart</code></dt>
<dd><p>Use [CFG:mode]<code>=debug</code> with [CFG:start_with_request]<code>=yes</code>.</p></dd>

<dt><code>xdebug.remote_enable</code></dt>
<dd><p>Use [CFG:mode]<code>=debug</code>.</p></dd>

<dt><code>xdebug.remote_handler</code></dt>
<dd><p>No replacement. Xdebug's step debugger only supported the <a href="/docs/dbgp">DBGp handler</a>.</p></dd>

<dt><code>xdebug.remote_mode</code></dt>
<dd>
<p>For the <code>req</code> value (the original default), use
[CFG:mode]=<code>debug</code> with
[CFG:start_with_request]=<code>trigger</code>. If the original
<code>xdebug.remote_autostart</code> behaviour is necessary, use
[CFG:start_with_request]=<code>yes</code> instead of <code>trigger</code>.</p>

<p>For the <code>jit</code> value, use [CFG:mode]=<code>debug</code> and
[CFG:start_upon_error]=<code>yes</code>.</p>
</dt>

<dt><code>xdebug.trace_output_dir</code></dt>
<dd><p>Use the generic [CFG:output_dir] setting.</p></dd>

<dt><code>xdebug.trace_enable_trigger</code></dt>
<dd><p>Use [CFG:mode]<code>=trace</code> with [CFG:start_with_request]<code>=trigger</code>.</p></dd>

<dt><code>xdebug.trace_enable_trigger_value</code></dt>
<dd><p>Use the generic [CFG:trigger_value] setting.</p></dd>
</dl>

<h2>Changed Constants</h2>

<p>The following constants have been changed:</p>

<dl>
<dt><code>XDEBUG_PATH_WHITELIST</code></dt>
<dd>Is now: <cod>XDEBUG_PATH_INCLUDE</code></dd>

<dt><code>XDEBUG_PATH_BLACKLIST</code></dt>
<dd>Is now: <cod>XDEBUG_PATH_EXCLUDE</code></dd>

<dt><code>XDEBUG_NAMESPACE_WHITELIST</code></dt>
<dd>Is now: <cod>XDEBUG_NAMESPACE_INCLUDE</code></dd>

<dt><code>XDEBUG_NAMESPACE_BLACKLIST</code></dt>
<dd>Is now: <cod>XDEBUG_NAMESPACE_EXCLUDE</code></dd>

</dl>
